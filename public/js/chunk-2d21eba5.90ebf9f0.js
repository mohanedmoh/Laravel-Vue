(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21eba5"],{d795:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vue-confirm-dialog"),a("div",{staticClass:"row"},[a("div",{ref:"table",staticClass:"col-md-12"},[a("v-card",[a("v-card-title",[t._v(" Records "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("b-button",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#formData",expression:"'#formData'"}],attrs:{variant:"primary"},on:{click:function(e){return t.addItem()}}},[a("v-icon",[t._v("mdi-plus")]),t._v(" New Record")],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{loading:"","loading-text":"Loading... Please wait",headers:t.headers,items:t.records,search:t.search,"item-key":"id"},scopedSlots:t._u([{key:"item.actions",fn:function(e){var r=e.item;return[a("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#formData",expression:"'#formData'"}],staticClass:"btn btn-icon btn-light btn-sm mx-3",on:{click:function(e){return t.editItem(r)}}},[a("span",{staticClass:"svg-icon svg-icon-md svg-icon-primary"},[a("svg",{attrs:{version:"1.1",viewBox:"0 0 24 24",height:"24px",width:"24px","xmlns:xlink":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg"}},[a("title",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[t._v(" Edit Record ")]),a("defs",{attrs:{xmlns:"http://www.w3.org/2000/svg"}}),a("g",{attrs:{xmlns:"http://www.w3.org/2000/svg",id:"Stockholm-icons-/-Communication-/-Write",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("rect",{attrs:{id:"bound",x:"0",y:"0",width:"24",height:"24"}}),a("path",{attrs:{d:"M12.9,2 C13.4522847,2 13.9,2.44771525 13.9,3 C13.9,3.55228475 13.4522847,4 12.9,4 L6,4 C4.8954305,4 4,4.8954305 4,6 L4,18 C4,19.1045695 4.8954305,20 6,20 L18,20 C19.1045695,20 20,19.1045695 20,18 L20,13 C20,12.4477153 20.4477153,12 21,12 C21.5522847,12 22,12.4477153 22,13 L22,18 C22,20.209139 20.209139,22 18,22 L6,22 C3.790861,22 2,20.209139 2,18 L2,6 C2,3.790861 3.790861,2 6,2 L12.9,2 Z",id:"Path-57",fill:"#000000","fill-rule":"nonzero",opacity:"0.3"}})])])])]),a("a",{staticClass:"btn btn-icon btn-light mx-3 btn-sm",on:{click:function(e){return t.deleteItem(r)}}},[a("span",{staticClass:"svg-icon svg-icon-md svg-icon-danger"},[a("svg",{attrs:{version:"1.1",viewBox:"0 0 24 24",height:"24px",width:"24px","xmlns:xlink":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/svg"}},[a("title",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[t._v(" Delete Record ")]),a("defs",{attrs:{xmlns:"http://www.w3.org/2000/svg"}}),a("g",{attrs:{xmlns:"http://www.w3.org/2000/svg",id:"Stockholm-icons-/-General-/-Trash",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("rect",{attrs:{id:"bound",x:"0",y:"0",width:"24",height:"24"}}),a("path",{attrs:{d:"M6,8 L6,20.5 C6,21.3284271 6.67157288,22 7.5,22 L16.5,22 C17.3284271,22 18,21.3284271 18,20.5 L18,8 L6,8 Z",id:"round",fill:"#000000","fill-rule":"nonzero"}}),a("path",{attrs:{d:"M14,4.5 L14,4 C14,3.44771525 13.5522847,3 13,3 L11,3 C10.4477153,3 10,3.44771525 10,4 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z",id:"Shape",fill:"#000000",opacity:"0.3"}})])])])])]}}])})],1)],1)]),a("hr",{attrs:{id:"formData"}}),a("div",{staticClass:"col-md-12"},[a("v-card",[a("v-card-title",[t._v(" Fill in Form Data ")]),a("v-card-text",[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var r=e.handleSubmit;return[a("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),r(t.onSubmit)}}},[a("validation-provider",{attrs:{name:"Title",rules:"required|min:5"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-form-group",{attrs:{label:"Title"}},[a("b-form-input",{attrs:{state:t.getValidationState(e),"aria-describedby":"input-1-live-feedback"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),a("b-form-invalid-feedback",{attrs:{id:"input-1-live-feedback"}},[t._v(t._s(e.errors[0]))])],1)]}}],null,!0)}),a("validation-provider",{attrs:{name:"Description",rules:"required|min:5"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-form-group",{attrs:{label:" Description","label-for":"desc"}},[a("b-form-textarea",{attrs:{id:"desc",name:"desc",placeholder:"Enter something...",rows:"3","max-rows":"6",state:t.getValidationState(e),"aria-describedby":"input-3-live-feedback"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}}),a("b-form-invalid-feedback",{attrs:{id:"input-3-live-feedback"}},[t._v(t._s(e.errors[0]))])],1)]}}],null,!0)}),a("b-button",{attrs:{type:"submit",variant:"success"}},[t._v("Save")]),a("b-button",{staticClass:"ml-2",attrs:{variant:"warning"},on:{click:function(e){return t.resetForm()}}},[t._v("Reset")])],1)]}}])})],1)],1)],1)],1)},i=[],s=a("0bce"),n={mounted:function(){this.$store.dispatch(s["a"],[{title:"Features",route:"history"},{title:"History"}])},data:function(){return{records:[],edit:!1,record_id:"",form:{title:null,description:null},search:"",headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Title",value:"title"},{text:"Description",value:"desc"},{text:"Actions",value:"actions",sortable:!1}]}},created:function(){this.getRecords()},methods:{getValidationState:function(t){var e=t.dirty,a=t.validated,r=t.valid,i=void 0===r?null:r;return e||a?i:null},makeToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$bvToast.toast(e,{title:"System Info",variant:t,toaster:"b-toaster-top-center",solid:!0})},resetForm:function(){var t=this;this.form={title:null,desc:null},this.$nextTick((function(){t.$refs.observer.reset()}))},getRecords:function(){var t=this;this.$ApiService.get("/History").then((function(e){t.records=e.data.data})).catch((function(e){return t.makeToast("danger","".concat(e))}))},onSubmit:function(){!1===this.edit?this.insert():this.update()},insert:function(){var t=this;this.$ApiService.post("/History",this.form).then((function(e){1==e.data.error?(t.resetForm(),t.$refs.table.scrollIntoView(),t.makeToast("success","".concat(e.data.result)),t.getRecords()):t.makeToast("danger","".concat(e.data.result))})).catch((function(e){return t.makeToast("danger","".concat(e))}))},addItem:function(){this.edit=!1,this.resetForm()},editItem:function(t){this.edit=!0,this.record_id=t.id,this.form.title=t.title,this.form.desc=t.desc},update:function(){var t=this;this.$ApiService.put("/History/".concat(this.record_id),this.form).then((function(e){1==e.data.error?(t.resetForm(),t.edit=!1,t.record_id="",t.$refs.table.scrollIntoView(),t.makeToast("success","".concat(e.data.result)),t.getRecords()):t.makeToast("danger","".concat(e.data.result))})).catch((function(e){return t.makeToast("danger","".concat(e))}))},deleteItem:function(t){var e=this;this.$confirm({title:"Confirmation",message:"Are you sure you want to proceed?",button:{no:"No",yes:"Yes"},callback:function(a){a&&e.$ApiService.delete("/History/".concat(t.id)).then((function(t){1==t.data.error?(e.$refs.table.scrollIntoView(),e.makeToast("success","".concat(t.data.result)),e.getRecords()):e.makeToast("danger","".concat(t.data.result))})).catch((function(t){return e.makeToast("danger","".concat(t))}))}})}}},o=n,c=a("2877"),l=a("6544"),d=a.n(l),u=a("b0af"),m=a("99d9"),f=a("8fea"),v=a("132d"),h=a("2fa4"),p=a("8654"),b=Object(c["a"])(o,r,i,!1,null,null,null);e["default"]=b.exports;d()(b,{VCard:u["a"],VCardText:m["a"],VCardTitle:m["b"],VDataTable:f["a"],VIcon:v["a"],VSpacer:h["a"],VTextField:p["a"]})}}]);
//# sourceMappingURL=chunk-2d21eba5.90ebf9f0.js.map