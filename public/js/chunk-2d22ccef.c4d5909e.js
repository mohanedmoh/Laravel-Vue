(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22ccef"],{f58b:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vue-confirm-dialog"),a("div",{staticClass:"row"},[a("div",{ref:"table",staticClass:"col-md-12"},[a("v-card",[a("v-card-title",[e._v(" Records "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer")],1),a("v-data-table",{attrs:{headers:e.headers,items:e.records,search:e.search,"item-key":"id"},scopedSlots:e._u([{key:"item.status_id",fn:function(t){var r=t.item;return[a("td",{staticClass:"text-right"},[1==r.status_id?a("span",{staticClass:"label label-lg label-light-warning label-inline"},[e._v(" Pendding ")]):e._e(),2==r.status_id?a("span",{staticClass:"label label-lg label-light-success label-inline"},[e._v(" Finished ")]):e._e()])]}}])})],1)],1)])],1)},n=[],s=a("5530"),c=a("2b0e"),i=a("2f62"),l=a("0bce"),o={mounted:function(){this.$store.dispatch(l["a"],[{title:"Requests"},{title:"AgentRequest",route:"AgentRequest"}])},data:function(){return{records:[],edit:!1,record_id:"",search:"",headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Service",value:"service_type.name"},{text:"Agent",value:"agent.agent_name"},{text:"Plot NO",value:"plot.plot_no"},{text:"Plan",value:"plan.name"},{text:"Client Name",value:"client_name"},{text:"Date",value:"created_at"},{text:"Actions",value:"actions",sortable:!1}]}},getStatus:function(e){return 1==e?"Pendding":"Finished"},created:function(){this.fetchRecords()},methods:{getValidationState:function(e){var t=e.dirty,a=e.validated,r=e.valid,n=void 0===r?null:r;return t||a?n:null},resetForm:function(){var e=this;this.form={title:null,description:null},this.$nextTick((function(){e.$refs.observer.reset()}))},fetchRecords:function(){var e=this;this.$ApiService.get("/AgentRequest").then((function(t){console.log(t),e.records=t.data.data})).catch((function(e){c["default"].$toast.error("".concat(e)),console.log(e)}))},deleteItem:function(e){var t=this;this.$confirm({title:"Confirmation",message:"Are you sure you want to proceed?",button:{no:"No",yes:"Yes"},callback:function(a){a&&t.$ApiService.delete("/Feedback/".concat(e.id)).then((function(e){1==e.data.error?(t.$refs.table.scrollIntoView(),t.fetchRecords(),c["default"].$toast.success("".concat(e.data.result))):c["default"].$toast.error("".concat(e.data.result))})).catch((function(e){return c["default"].$toast.error("".concat(e))}))}})},finish:function(){var e=this;this.$ApiService.put("/Feedback/".concat(this.record_id),this.form).then((function(t){1==t.data.error?(e.resetForm(),e.record_id="",e.$refs.table.scrollIntoView(),e.fetchRecords(),c["default"].$toast.success("".concat(t.data.result))):c["default"].$toast.error("".concat(t.data.result))})).catch((function(e){return c["default"].$toast.error("".concat(e))}))}},computed:Object(s["a"])({},Object(i["c"])({errors:function(e){return e.auth.errors}}))},d=o,u=a("2877"),f=a("6544"),h=a.n(f),v=a("b0af"),b=a("99d9"),p=a("8fea"),m=a("2fa4"),g=a("8654"),_=Object(u["a"])(d,r,n,!1,null,null,null);t["default"]=_.exports;h()(_,{VCard:v["a"],VCardTitle:b["b"],VDataTable:p["a"],VSpacer:m["a"],VTextField:g["a"]})}}]);
//# sourceMappingURL=chunk-2d22ccef.c4d5909e.js.map